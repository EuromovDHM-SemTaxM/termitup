{
	"openapi": "3.0.0",
	"info": {
		"description": "[WORK IN PROGRESS] This service generates Enriched Linked Terminologies from scratch: given a term, it retrieves multilingual data from the Linguistic Linked Open Data cloud (translations, definitions, synonyms and other terminological data). The result is published as a set of JSON-LD files modeled in SKOS-XL.",
		"version": "1.0.0",
		"title": "TermitUp",
		"license": {
			"name": "Prêt à Llod",
			"url": "https://www.pret-a-llod.eu/"
		}
	},
	"tags": [
		{
			"name": "Terminology",
			"description": "Set of methods to work with terminologies and corpus"
		}
	],
	"paths": {
		"/extract_terminology": {
			"post": {
				"tags": [
					"Terminology"
				],
				
				"summary": "Extract terminology from corpus",
                "parameters": [
					{
						"in": "query",
						"name": "lang_in",
						"required": true,
						"description": "Language of the source terms: es, en...",
						"schema": {
							"$ref": "#/components/schemas/base"
						}
					},
					{
						"in": "query",
						"name": "corpus",
						"required": true,
						"description": "Corpus in which the terms appear.",
						"schema": {
							"$ref": "#/components/schemas/corpusonly"
						}
					}

				]
				,
				"responses": {
					"200": {
						"description": "successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/base"
								}
							}
						}
					},
					"404": {
						"description": "Failed. No more requests.",
						"content": {}
					}
				}
			}	
		},
		"/postproc_terminology": {
			"post": {
				"tags": [
					"Terminology"
				],
				
				"summary": "Postprocess automatically extracted terminology",
				"parameters": [
					{
						"in": "query",
						"name": "terms",
						"required": true,
						"description": "Terms to postprocess, separated by commas",
						"schema": {
							"$ref": "#/components/schemas/base"
						}
					},
					{
						"in": "query",
						"name": "tasks",
						"required": true,
						"description": "Write timeEx to remove temporal expressions; write patterns to remove non terminological structures in Spanish; write plurals to remove plurals in Spanish; write accents to remove accents in Spanish. To perform several tasks, write them separated by commas: \"tasks\": \"timeEx, patterns, numbers\"",
						"schema": {
							"$ref": "#/components/schemas/base"
						}
					},
					{
						"in": "query",
						"name": "source_language",
						"required": true,
						"description": "Language of the source terms: es, en...",
						"schema": {
							"$ref": "#/components/schemas/base"
						}
					}

				]
				,
				"responses": {
					"200": {
						"description": "successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/base"
								}
							}
						}
					},
					"404": {
						"description": "Failed. No more requests.",
						"content": {}
					}
				}
			}	
		},
		"/enriching_terminology": {
			"post": {
				"tags": [
					"Terminology"
				],
				
				"summary": "Enriches the extracted terms with disambiguated info.",

				"requestBody": {
					  "description": "Terms: terms to enrich. Resources: External resources to enrich the terms, separated by commas: eurovoc, iate, unesco, thesoz, stw, ilo. Source_language: language of the terms to enrich. Target_languages: language or languages of the retrieved information. Schema_name: name of the domain to which the terms belong. Corpus: text from which the terms have been extracted. ",
					  "required": true,
					  "content": {
						"application/json": {
						  "schema": {
							"$ref": "#/components/schemas/enriching"
						  }
						}
					  }
					}
				,
				
				"responses": {
					"200": {
						"description": "successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/term"
								}
							}
						}
					},
					"404": {
						"description": "Failed. No more requests.",
						"content": {}
					}
				}
			}	
		},
		"/relation_validation": {
			"post": {
				"tags": [
					"Terminology"
				],
				
				"summary": "Validates synonymy relations.",
				"parameters": [
					{
						"in": "query",
						"name": "term",
						"required": true,
						"description": "Source term, for instance: worker",
						"schema": {
							"$ref": "#/components/schemas/base"
						}
					},
					{
						"in": "query",
						"name": "source_language",
						"required": true,
						"description": "Language of the source term: es, en, de...",
						"schema": {
							"$ref": "#/components/schemas/base"
						}
					},
					{
						"in": "query",
						"name": "candidate_terms",
						"required": true,
						"description": "Candidate terms to validate relations, separated by commas, in the same language as the source term: domestic worker, civil worker",
						"schema": {
							"$ref": "#/components/schemas/base"
						}
					}
				],
				
				"responses": {
					"200": {
						"description": "successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/base"
								}
							}
						}
					},
					"404": {
						"description": "Failed. No more requests.",
						"content": {}
					}
				}
			}	
		},
		"/rdf_conversion": {
			"post": {
				"tags": [
					"Terminology"
				],
				
				"summary": "Converts json output to SKOS.",

				"requestBody": {
					  "description": "Copy your json in the body ",
					  "required": true,
					  "content": {
						"application/json": {
						  "schema": {
							"$ref": "#/components/schemas/enriching"
						  }
						}
					  }
					}
				,
				
				"responses": {
					"200": {
						"description": "successful operation",
						"content": {
							"text/ntriples": {
								"schema": {
									"type": "string"
								}
							}
						}
					},
					"404": {
						"description": "Failed. No more requests.",
						"content": {}
					}
				}
			}	
		},
		"/term": {
			"get": {
				"tags": [
					"Terms"
				],
				
				"summary": "Term example method",
				"parameters": [
					{
						"in": "term",
						"name": "term",
						"required": true,
						"description": "term",
						"schema": {
							"$ref": ""
						}
					}
				]
				,
				"responses": {
					"200": {
						"description": "successful operation",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/base"
								}
							}
						}
					},
					"404": {
						"description": "Failed. No more requests.",
						"content": {}
					}
				}
			}
		}
	},
	"components": {
		"schemas": {
			"base": {
	            "type": "string",
	            "format": "string"

	      	},
			"corpusonly": {
	        	"type": "object",
	        	"properties": {
        	          "corpus": {
            	            "type": "string",
            	            "format": "string"
                    	          }
                	        	}
	      	},
			"corpus": {
	        	"type": "object",
	        	"properties": {
	          "corpus": {
	            "type": "string",
	            "format": "string"
	          },
	          "language": {
	            "type": "string",
	            "format": "string"
	          }
	        	}
	      	},
	        "cleanterm": {
    	        "type": "object",
	        	"properties": {
	        		"terms": {
	            		"type": "string",
	            		"format": "string"
	        			
	        		},
	       	        "tasks": {
	            		"type": "string",
	            		"format": "string"
	        			
	        		},
    	          "source_language": {
    	            "type": "string",
    	            "format": "string"
        	        	}
        	        }
	    	},
	    	"enriching": {
	        	"type": "object",
	        	"properties": {
	        		
	        		"terms": {
	            		"type": "string",
	            		"format": "string"
	        			
	        		},
	       	        "resources": {
	            		"type": "string",
	            		"format": "string"
	        			
	        		},
	        		"source_language": {
	            		"type": "string",
	            		"format": "string"
	        		},
	        		"target_languages": {
	            		"type": "string",
	            		"format": "string"
	    			},
	    			"schema_name": {
	            		"type": "string",
	           			 "format": "string"
	          		},
	    			"corpus": {
	            		"type": "string",
	           			 "format": "string"
	          		}
	          	}
	      },
	        "options": {
	        	"type": "boolean",
	        	"properties": {
	           "activate_option": {
	            "type": "boolean",
	            "format": "boolean"
	          }
	    	}
	      },
			"term": {
				"type": "object",
				"properties": {
            "Source Term" : {"type": "string"},
            "IATE ID": {"type": "string"},
            "IATE Synonyms": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "IATE Translations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "IATE Definitions": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              }, 
            "EUROVOC ID": {"type": "string"},
            "EUROVOC Synonyms":  {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "EUROVOC Relations":  {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "EUROVOC Definitions":  {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "EUROVOC Translations":  {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "UNESCO ID": {"type": "string"},
            "UNESCO Synonyms": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "UNESCO Translations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "UNESCO Relations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "WIKIDATA ID": {"type": "string"},
            "WIKIDATA Synonyms": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "WIKIDATA Translations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "WIKIDATA Definitions": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "WIKIDATA Relations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "THESOZ ID": {"type": "string"},
            "THESOZ Synonyms": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "THESOZ Translations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "THESOZ Definitions": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "THESOZ Relations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "STW ID": {"type": "string"},
            "STW Synonyms": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "STW Translations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "STW Definitions": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              },
            "STW Relations": {
                                    "type": "array",
                                    "items": {
                                          "type": "string"
                                    }
                              }
				}
			},
			"prefLabel": {
				"type": "object",
				"properties": {
					"language": {
						"type": "string"
					},
					"value": {
						"type": "string"
					}
				}
			},
			"altLabel": {
				"type": "object",
				"properties": {
					"language": {
						"type": "string"
					},
					"value": {
						"type": "string"
					}
				}
			},
			"definition": {
				"type": "object",
				"properties": {
					"language": {
						"type": "string"
					},
					"value": {
						"type": "string"
					}
				}
			}
		}
	}
}